const form = document.getElementById("authForm");
const registerBtn = document.getElementById("registerBtn");
const msg = document.getElementById("msg");

const API = "https://SEU_BACKEND.onrender.com";

form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = email.value;
    const password = password.value;

    const res = await fetch(`${API}/login`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
    });

    const data = await res.json();
    msg.textContent = data.error || "Login realizado com sucesso";
});

registerBtn.addEventListener("click", async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const res = await fetch(`${API}/register`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
    });

    const data = await res.json();
    msg.textContent = data.error || data.message;
});
